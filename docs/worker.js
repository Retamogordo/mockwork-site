!function(e){self.webpackChunk=function(n,r){for(var o in r)e[o]=r[o];for(;n.length;)t[n.pop()]=1};var n={},t={0:1},r={};var o={3:function(){return{"./mockwork_bg.js":{__wbindgen_object_drop_ref:function(e){return n[2].exports.Z(e)},__wbindgen_string_new:function(e,t){return n[2].exports.ab(e,t)},__wbg_outputbox_21889bea7d0535ef:function(e,t){return n[2].exports.C(e,t)},__wbindgen_cb_drop:function(e){return n[2].exports.Q(e)},__wbg_Window_f826a1dec163bacb:function(e){return n[2].exports.a(e)},__wbindgen_is_undefined:function(e){return n[2].exports.W(e)},__wbg_WorkerGlobalScope_967d186155183d38:function(e){return n[2].exports.b(e)},__wbg_new_59cb74e423758ede:function(){return n[2].exports.v()},__wbg_stack_558ba5917b466edd:function(e,t){return n[2].exports.K(e,t)},__wbg_error_4bb6c2a97407129a:function(e,t){return n[2].exports.j(e,t)},__wbg_randomFillSync_64cc7d048f228ca8:function(e,t,r){return n[2].exports.E(e,t,r)},__wbg_getRandomValues_98117e9a7e993920:function(e,t){return n[2].exports.m(e,t)},__wbg_process_2f24d6544ea7b200:function(e){return n[2].exports.D(e)},__wbindgen_is_object:function(e){return n[2].exports.U(e)},__wbg_versions_6164651e75405d4a:function(e){return n[2].exports.N(e)},__wbg_node_4b517d861cbcb3bc:function(e){return n[2].exports.A(e)},__wbg_modulerequire_3440a4bcf44437db:function(e,t){return n[2].exports.t(e,t)},__wbg_crypto_98fc271021c7d2ad:function(e){return n[2].exports.h(e)},__wbg_msCrypto_a2cdb043d2bfe57f:function(e){return n[2].exports.u(e)},__wbg_now_44a034aa2e1d73dd:function(e){return n[2].exports.B(e)},__wbg_clearTimeout_4eb40605bf9d9f0d:function(e,t){return n[2].exports.g(e,t)},__wbg_setTimeout_ce28a603906ebcbb:function(e,t,r){return n[2].exports.I(e,t,r)},__wbg_clearTimeout_2afa6adeec831da0:function(e,t){return n[2].exports.f(e,t)},__wbg_setTimeout_119f2ec17c176110:function(e,t,r){return n[2].exports.H(e,t,r)},__wbg_debug_3cd00f291377c174:function(e,t,r,o){return n[2].exports.i(e,t,r,o)},__wbg_error_d95afd6217cfd219:function(e){return n[2].exports.l(e)},__wbg_error_b34cc56d85003ef4:function(e,t,r,o){return n[2].exports.k(e,t,r,o)},__wbg_info_018f27f794253c5d:function(e,t,r,o){return n[2].exports.q(e,t,r,o)},__wbg_log_11ed533feafc234e:function(e,t,r,o){return n[2].exports.s(e,t,r,o)},__wbg_warn_c8159c1458b48e78:function(e,t,r,o){return n[2].exports.O(e,t,r,o)},__wbindgen_object_clone_ref:function(e){return n[2].exports.Y(e)},__wbg_newnoargs_9fdd8f3961dd1bee:function(e,t){return n[2].exports.y(e,t)},__wbg_call_ba36642bd901572b:function(e,t){return n[2].exports.e(e,t)},__wbg_call_3fc07b7d5fc9022d:function(e,t,r){return n[2].exports.d(e,t,r)},__wbg_get_800098c980b31ea2:function(e,t){return n[2].exports.n(e,t)},__wbg_buffer_9e184d6f785de5ed:function(e){return n[2].exports.c(e)},__wbg_new_c143a4f563f78c4e:function(e,t){return n[2].exports.w(e,t)},__wbg_resolve_cae3d8f752f5db88:function(e){return n[2].exports.F(e)},__wbg_then_c2361a9d5c9a4fcb:function(e,t){return n[2].exports.M(e,t)},__wbg_self_bb69a836a72ec6e9:function(){return n[2].exports.G()},__wbg_window_3304fc4b414c9693:function(){return n[2].exports.P()},__wbg_globalThis_e0d21cabc6630763:function(){return n[2].exports.o()},__wbg_global_8463719227271676:function(){return n[2].exports.p()},__wbg_new_e8101319e4cf95fc:function(e){return n[2].exports.x(e)},__wbg_set_e8ae7b27314e8b98:function(e,t,r){return n[2].exports.J(e,t,r)},__wbg_length_2d56cb37075fcfb1:function(e){return n[2].exports.r(e)},__wbg_newwithlength_a8d1dbcbe703a5c6:function(e){return n[2].exports.z(e)},__wbg_subarray_901ede8318da52a6:function(e,t,r){return n[2].exports.L(e,t,r)},__wbindgen_is_string:function(e){return n[2].exports.V(e)},__wbindgen_debug_string:function(e,t){return n[2].exports.T(e,t)},__wbindgen_throw:function(e,t){return n[2].exports.bb(e,t)},__wbindgen_memory:function(){return n[2].exports.X()},__wbindgen_closure_wrapper1061:function(e,t,r){return n[2].exports.R(e,t,r)},__wbindgen_closure_wrapper1114:function(e,t,r){return n[2].exports.S(e,t,r)}}}}};function s(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.e=function(e){var n=[];return n.push(Promise.resolve().then(function(){t[e]||importScripts(e+".worker.js")})),({1:[3]}[e]||[]).forEach(function(e){var t=r[e];if(t)n.push(t);else{var _,i=o[e](),c=fetch(s.p+""+{3:"2cdfd4ef88a615a71f74"}[e]+".module.wasm");if(i instanceof Promise&&"function"==typeof WebAssembly.compileStreaming)_=Promise.all([WebAssembly.compileStreaming(c),i]).then(function(e){return WebAssembly.instantiate(e[0],e[1])});else if("function"==typeof WebAssembly.instantiateStreaming)_=WebAssembly.instantiateStreaming(c,i);else{_=c.then(function(e){return e.arrayBuffer()}).then(function(e){return WebAssembly.instantiate(e,i)})}n.push(r[e]=_.then(function(n){return s.w[e]=(n.instance||n).exports}))}}),Promise.all(n)},s.m=e,s.c=n,s.d=function(e,n,t){s.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,n){if(1&n&&(e=s(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(s.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)s.d(t,r,function(n){return e[n]}.bind(null,r));return t},s.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(n,"a",n),n},s.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},s.p="",s.w={},s(s.s=0)}([function(e,n,t){t.e(1).then(t.bind(null,1)).then(e=>{let n=e.init(),t=!1,r=void 0,o=void 0,s=void 0,_=!1,i=0,c=20;function a(){if(void 0===s){let n=0;_=!1,s=setInterval(()=>{n++;try{let t=JSON.parse(e.poll_mock_work(i));if(void 0===t)return void console.log("polling result is undefined");(_|=1==t.was_suspended)&&(console.log(t.mw_status+" §§§§§§§§§§§§§§§ stopping polling §§§§§§§§"),s=clearInterval(s),_=!1),self.postMessage({ev:"pollResult",pollResult:t,iteration:n,pollingStopped:!s})}catch(e){console.log(e),s=clearInterval(s),self.postMessage({ev:"pollError",pollingStopped:!0})}},50)}}self.addEventListener("message",u=>{let d=u.data;if(n){if("createInstance"==d.cmd){s=clearInterval(s),_=!1;let n=parseInt(d.nodesNum);(isNaN(n)||n<2)&&(n=2);let r=parseInt(d.edgesNum);(isNaN(r)||r<1)&&(r=1);let o=parseInt(d.nodeEventLoopTickDelay);(isNaN(o)||o<0)&&(o=20);let i=parseInt(d.minLineDelay);(isNaN(i)||i<1)&&(i=1);let c=parseInt(d.maxLineDelay);return(isNaN(c)||c<i)&&(c=i),void e.load_instance(n,r,i,c,o).then(e=>{void 0!==e&&""!=e&&(t=!0,self.postMessage({mock_work_loaded:e}))})}if(t)if("addressMap"==d.cmd)if(void 0===d.src){let n=isNaN(d.params.autoStopMs)?3e3:d.params.autoStopMs;setTimeout(()=>{_=!0},n),a(),e.network_refresh_address_map(d.params.seeds,BigInt(1e3))}else e.node_refresh_address_map(d.src,BigInt(10));else if("displayNodeAddressMap"==d.cmd){console.log("displayNodeAddressMap"+d.node_id);let n=JSON.parse(e.get_node_address_map(d.node_id));self.postMessage({ev:"displayNodeAddressMap",address_map:n,src:d.node_id})}else"toggleNodeConnection"==d.cmd?(console.log("toggleNodeConnection"+d.node_id),e.toggle_node_connection(d.node_id)):"setMWLoopCycleTickDelay"==d.cmd?(console.log("nodeLoopCyclesTickDelay "+d.params.nodeLoopCyclesTickDelay),i=d.params.nodeLoopCyclesTickDelay,e.set_loop_cycle_gap(i)):"setMWMaxRunningSessions"==d.cmd?(c=d.params.sessionsLimit,e.set_max_running_sessions_num(c)):"runPeerTest"==d.cmd?(self.postMessage({ev:"startPeerChannelRun",src:d.src,dest:d.dest}),a(),e.set_loop_cycle_gap(d.params.nodeLoopCyclesTickDelay),e.set_max_running_sessions_num(d.params.sessionsLimit),e.peer_channel_test(d.src,d.dest)):"injectPeerTest"==d.cmd?(console.log("inject peer test ",d.src," -> ",d.dest),e.peer_channel_test(d.src,d.dest)):"peerNodeTap"==d.cmd?void 0===r?r=d.node_id:(o=d.node_id,self.postMessage({ev:"startPeerChannelRun",src:r,dest:o}),a(),e.peer_channel_test(r,o),r=void 0):"pollMockWork"==d.cmd||("startInfiniteRun"==d.cmd?(i=d.params.nodeLoopCyclesTickDelay,e.set_loop_cycle_gap(i),c=d.params.sessionsLimit,e.set_max_running_sessions_num(c),a(),e.set_loop_cycle_gap(d.params.nodeLoopCyclesTickDelay),e.set_max_running_sessions_num(d.params.sessionsLimit),e.random_peer_channel_test()):"stopCurrentOperation"==d.cmd?(console.log("worker stopCurrentOperation cmd, op:",d.op),"randomRun"==d.op?(console.log("stopping random run"),e.stop_infinite_run()):"addressMap"==d.op?(console.log("stopping address map"),e.stop_refreshing_address_map()):"peerChannelRun"==d.op&&(console.log("stopping peer channel run"),e.stop_infinite_run())):"shutdownInstance"==d.cmd&&(e.stop_infinite_run(),e.shutdown_instance()))}})})}]);